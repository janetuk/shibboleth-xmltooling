<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>xmltooling: soap11::SOAPClient Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="dirs.html"><span>Directories</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<div class="nav">
<a class="el" href="a00644.html">soap11</a>::<a class="el" href="a00495.html">SOAPClient</a></div>
<h1>soap11::SOAPClient Class Reference</h1><!-- doxytag: class="soap11::SOAPClient" -->Implements SOAP 1.1 messaging over a transport.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;xmltooling/soap/SOAPClient.h&gt;</code>
<p>
<a href="a00183.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00495.html#75535ec15529c7fd27da38de5a6a7d42">SOAPClient</a> (bool validate=false)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#75535ec15529c7fd27da38de5a6a7d42"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00495.html#18da3a2ef3c53b3b7361d28376eaaeb2">setValidating</a> (bool validate=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Controls schema validation of incoming XML messages.  <a href="#18da3a2ef3c53b3b7361d28376eaaeb2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00495.html#3b8fc302b1e920a948543263077fd059">send</a> (const <a class="el" href="a00403.html">Envelope</a> &amp;env, const <a class="el" href="a00497.html">xmltooling::SOAPTransport::Address</a> &amp;addr)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends the supplied envelope to the identified recipient/endpoint.  <a href="#3b8fc302b1e920a948543263077fd059"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="a00403.html">Envelope</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00495.html#82580a447180937e6810d3811f7cbb1d">receive</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the response message, if any.  <a href="#82580a447180937e6810d3811f7cbb1d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6a5a905956460b3f927e9defc7952ba7"></a><!-- doxytag: member="soap11::SOAPClient::reset" ref="6a5a905956460b3f927e9defc7952ba7" args="()" -->
virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00495.html#6a5a905956460b3f927e9defc7952ba7">reset</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resets the object for another call. <br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00495.html#9afb1bc6eef5e52b61bb951663ca7a9b">prepareTransport</a> (<a class="el" href="a00496.html">xmltooling::SOAPTransport</a> &amp;transport)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Allows client to supply transport-layer settings prior to sending message.  <a href="#9afb1bc6eef5e52b61bb951663ca7a9b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00495.html#1d854321c073107c2e2bd0ec6d4dcf19">handleFault</a> (const <a class="el" href="a00407.html">soap11::Fault</a> &amp;fault)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handling of SOAP faults.  <a href="#1d854321c073107c2e2bd0ec6d4dcf19"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a750e6772906879cbf9a6c83ea15928d"></a><!-- doxytag: member="soap11::SOAPClient::m_validate" ref="a750e6772906879cbf9a6c83ea15928d" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00495.html#a750e6772906879cbf9a6c83ea15928d">m_validate</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Flag controlling schema validation. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7b085e97ec9fde3a9e2439fbdf03f101"></a><!-- doxytag: member="soap11::SOAPClient::m_transport" ref="7b085e97ec9fde3a9e2439fbdf03f101" args="" -->
<a class="el" href="a00496.html">xmltooling::SOAPTransport</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00495.html#7b085e97ec9fde3a9e2439fbdf03f101">m_transport</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Holds response until retrieved by caller. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Implements SOAP 1.1 messaging over a transport. 
<p>
In the abstract, this can be a one-way exchange, or use asynchronous transports, but this is mostly theoretical at this point. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="75535ec15529c7fd27da38de5a6a7d42"></a><!-- doxytag: member="soap11::SOAPClient::SOAPClient" ref="75535ec15529c7fd27da38de5a6a7d42" args="(bool validate=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">soap11::SOAPClient::SOAPClient           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>validate</em> = <code>false</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>validate</em>&nbsp;</td><td>true iff schema validation should be used </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="1d854321c073107c2e2bd0ec6d4dcf19"></a><!-- doxytag: member="soap11::SOAPClient::handleFault" ref="1d854321c073107c2e2bd0ec6d4dcf19" args="(const soap11::Fault &amp;fault)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool soap11::SOAPClient::handleFault           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00407.html">soap11::Fault</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>fault</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handling of SOAP faults. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fault</em>&nbsp;</td><td>SOAP <a class="el" href="a00407.html">Fault</a> received by client </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>true iff the <a class="el" href="a00407.html">Fault</a> should be treated as a fatal error </dd></dl>

</div>
</div><p>
<a class="anchor" name="9afb1bc6eef5e52b61bb951663ca7a9b"></a><!-- doxytag: member="soap11::SOAPClient::prepareTransport" ref="9afb1bc6eef5e52b61bb951663ca7a9b" args="(xmltooling::SOAPTransport &amp;transport)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void soap11::SOAPClient::prepareTransport           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00496.html">xmltooling::SOAPTransport</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>transport</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Allows client to supply transport-layer settings prior to sending message. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>transport</em>&nbsp;</td><td>reference to transport layer </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="82580a447180937e6810d3811f7cbb1d"></a><!-- doxytag: member="soap11::SOAPClient::receive" ref="82580a447180937e6810d3811f7cbb1d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="a00403.html">Envelope</a>* soap11::SOAPClient::receive           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the response message, if any. 
<p>
As long as a response is "expected" but not available, NULL will be returned. If no response will be forthcoming, an exception is raised.<p>
The caller is responsible for freeing the returned envelope. 
</div>
</div><p>
<a class="anchor" name="3b8fc302b1e920a948543263077fd059"></a><!-- doxytag: member="soap11::SOAPClient::send" ref="3b8fc302b1e920a948543263077fd059" args="(const Envelope &amp;env, const xmltooling::SOAPTransport::Address &amp;addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void soap11::SOAPClient::send           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00403.html">Envelope</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>env</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00497.html">xmltooling::SOAPTransport::Address</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>addr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends the supplied envelope to the identified recipient/endpoint. 
<p>
The client object will instantiate a transport layer object appropriate for the endpoint URL provided and supply it to the <a class="el" href="a00495.html#9afb1bc6eef5e52b61bb951663ca7a9b">prepareTransport()</a> method below.<p>
To authenticate the server end, the transport layer object exposes a method to load a TrustEngine and CredentialResolver in a subclass-specific version of the <a class="el" href="a00495.html#9afb1bc6eef5e52b61bb951663ca7a9b">prepareTransport()</a> method.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>env</em>&nbsp;</td><td>SOAP envelope to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>addr</em>&nbsp;</td><td>addressing information </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="18da3a2ef3c53b3b7361d28376eaaeb2"></a><!-- doxytag: member="soap11::SOAPClient::setValidating" ref="18da3a2ef3c53b3b7361d28376eaaeb2" args="(bool validate=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void soap11::SOAPClient::setValidating           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>validate</em> = <code>true</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Controls schema validation of incoming XML messages. 
<p>
This is separate from other forms of programmatic validation of objects, but can detect a much wider range of syntax errors.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>validate</em>&nbsp;</td><td>true iff the client should use a validating XML parser </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>xmltooling/soap/<a class="el" href="a00620.html">SOAPClient.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu Dec 3 12:44:28 2009 for xmltooling by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
